{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./BarGraph.tsx","webpack:///./BrushComponent.tsx","webpack:///./GraphComponents.tsx","webpack:///./ParetoPanel.tsx","webpack:///./TooltipComponent.tsx","webpack:///./constants.ts","webpack:///./controllers.ts","webpack:///./eventBus.ts","webpack:///./module.ts","webpack:///./styles.ts","webpack:///./utils.ts","webpack:///external \"@grafana/data\"","webpack:///external \"@grafana/ui\"","webpack:///external \"d3\"","webpack:///external \"emotion\"","webpack:///external \"react\""],"names":[],"mappings":"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","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./module.ts\");\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from 'react';\nimport {\n  select as d3Select,\n  max as d3Max,\n  min as d3Min,\n  scaleLinear as d3ScaleLinear,\n  scaleBand as d3ScaleBand,\n  line as d3Line,\n  curveBasis as d3LineCurve,\n} from 'd3';\nimport { css } from 'emotion';\nimport { GraphData } from './controllers';\nimport { getTextLabelClass, debounce, camelCase } from './utils';\nimport { eventBus } from './eventBus';\nimport { CONSTANTS } from './constants';\n\nexport interface BarGraphSettings {\n  options: any;\n  width: number;\n  height: number;\n}\n\nexport function BarGraph(data: GraphData, { options, width, height }: BarGraphSettings) {\n  const { vitalBreakpointVal } = options;\n  const maxYOffsetVal: number = d3Max(data.y) || 0;\n  const minYOffsetVal: number = d3Min(data.y) || 0;\n  const padding = 20;\n  const chartHeight = height - 3 * padding;\n  const chartWidth = width - 2 * padding;\n  const xBand = d3ScaleBand()\n    .range([0, chartWidth - padding])\n    .padding(options.barPadding);\n  const xPBand = d3ScaleBand()\n    .range([0, chartWidth - padding])\n    .padding(options.barPadding)\n    .paddingOuter(0.6);\n  const xLinear = d3ScaleLinear().range([0, chartWidth - padding]);\n  const x = d3ScaleLinear().range([0, chartWidth - padding]);\n  const y = d3ScaleLinear().range([chartHeight, 0]);\n  const p = d3ScaleLinear().range([chartHeight, 0]);\n  const line = d3Line()\n    .curve(d3LineCurve)\n    .x((d, i) => x(i) || 0)\n    .y((d: any) => (!!d) ? p(d.p / 100) : d);\n  const pLabels = (n: any, index: number): string => {\n    if (index === 0 || !n || !!!n) {\n      return ``;\n    }\n    return `${n * 100} %`;\n  };\n  const pathData = data.p.map((d, i) => ({ x: data.xAxisLabels[i] || '', p: d || 0 })) || null;\n  const cutOffXPathData = data.p.map((d, i) => ({ x: data.xAxisLabels[i] || '', p: vitalBreakpointVal })) || null;\n  const bottomLineData = data.p.map((d, i) => ({ x: i, p: 0 }));\n  const barHeightOffset = data.p[0] / data.p.length;\n  const yDomainMin = minYOffsetVal - barHeightOffset > 0 ? minYOffsetVal - barHeightOffset : 0;\n\n  xBand.domain(data.xAxisLabels);\n  xPBand.domain(data.xAxisLabels);\n  xLinear.domain([-1, data.x.length]);\n  x.domain([-1, data.x.length]);\n  p.domain([0, 1]);\n  y.domain([yDomainMin, maxYOffsetVal + barHeightOffset]);\n\n  return {\n    padding,\n    x,\n    xBand,\n    xPBand,\n    xLinear,\n    y,\n    p,\n    chartHeight,\n    chartWidth,\n    line,\n    pathData,\n    cutOffXPathData,\n    bottomLineData,\n    pLabels,\n    Component,\n  };\n}\n\nconst Component: React.FC<any> = ({\n  data,\n  styles,\n  theme,\n  padding,\n  x,\n  xBand,\n  y,\n  p,\n  chartHeight,\n  chartWidth,\n  vitalBreakpointVal,\n  isInclusive,\n  showVitalFew,\n  showBarValue,\n  valToFixed,\n  chartId,\n  vitalColor,\n  vitalLineColor,\n  trivialColor,\n  barHoverColor,\n  ...props\n}) => {\n  let issetVitalFewLine = false;\n  const setIssetVitalFewLine = (state: boolean): boolean => {\n    issetVitalFewLine = state;\n    return true;\n  };\n  const hasVitals = !!data.p.filter((d: number, i: number) => d < vitalBreakpointVal).length;\n  const bandwidth = xBand.bandwidth() * 0.9;\n  const barClickHandler = (event: any) => eventBus.dispatch(`${chartId}-${CONSTANTS.E_TOOLTIP_CLICK}`, event);\n  const barMoveHandler = (event: any) => eventBus.dispatch(`${chartId}-${CONSTANTS.E_TOOLTIP_MOVE}`, event);\n  const debouncedClickHandler = debounce(barClickHandler, 200);\n  const debouncedMoveHandler = debounce(barMoveHandler, 200);\n  const getFillColor = (isVital: boolean) => isVital \n    ? !!vitalColor ? camelCase(vitalColor) : theme.palette.brandDanger\n    : !!trivialColor ? camelCase(trivialColor) : theme.palette.brandWarning;\n\n  return (\n    <g clipPath={`url(#${chartId})`} className=\"bars\" transform={`translate(${padding}, 0)`}>\n      {data.y.map((val: number, i: number) => {\n        const currentX: number = x(i) - bandwidth / 2;\n        const step = Math.trunc(chartWidth / 10 / bandwidth);\n        const defaultFixedVal = 2;\n        const maxFixedVal = 6;\n        const label = typeof val === 'number' \n          && valToFixed >= 0 ? val.toFixed(valToFixed > maxFixedVal ? defaultFixedVal : valToFixed) : val;\n        const isForcedHidden = !showBarValue;\n        const visibilityClassName = isForcedHidden ? styles.forcedHidden.__barLabel : '';\n        const BarLabel = ({ index, className }: any) => (\n          <text\n            data-index={index}\n            transform={`translate(0, -${padding / 2})`}\n            className={[className, styles.barValue, visibilityClassName].join(' ')}\n            x={currentX + bandwidth / 2}\n            y={y(val)}\n          >\n            {label}\n          </text>\n        );\n        let isVital;\n        \n        if (!hasVitals && i === 0) {\n          isVital = true;\n        } else if (data.p[i] < vitalBreakpointVal && !isInclusive) {\n          isVital = true;\n        } else if (isInclusive && (data.p[i-1] < vitalBreakpointVal || i === 0)) {\n          isVital = true;\n        } else {\n          isVital = false;\n        }\n\n        const textLabelClass = getTextLabelClass(bandwidth, styles, i, step);\n        return (\n          <>\n            <rect\n              className={[styles.bar, !!barHoverColor ? css`\n                &:hover {\n                  fill: ${camelCase(barHoverColor)} !important;\n                }\n              `: ''].join(' ')}\n              fill={getFillColor(isVital)}\n              data-label-header={data.x[i]}\n              data-label={data.tooltipLabel[i]}\n              data-label2={`${data.p[i].toFixed(2)}%`}\n              data-count={val}\n              data-is-vital={isVital}\n              data-fill-color={getFillColor(isVital)}\n              onMouseUp={({ currentTarget }) => debouncedClickHandler({ currentTarget })}\n              onMouseOver={({ currentTarget, type, pageX, pageY }) =>\n                debouncedMoveHandler({ currentTarget, type, pageX, pageY })\n              }\n              onMouseMove={({ currentTarget, type, pageX, pageY }) =>\n                debouncedMoveHandler({ currentTarget, type, pageX, pageY })\n              }\n              onMouseOut={({ currentTarget, type, pageX, pageY }) =>\n                debouncedMoveHandler({ currentTarget, type, pageX, pageY })\n              }\n              ref={node => {\n                d3Select(node)\n                  .attr('x', currentX)\n                  .attr('y', y(val))\n                  .attr('width', bandwidth)\n                  .attr('height', chartHeight - y(val));\n              }}\n            />\n            <BarLabel index={i} className={['bar-values', textLabelClass].join(' ')} />\n            <>\n              {!isVital && showVitalFew && !issetVitalFewLine && setIssetVitalFewLine(true) && (\n                <line\n                  className={['line--vertical', styles.lineCutOff, css`\n                    stroke: ${!!vitalLineColor ? vitalLineColor : 'rgba(255, 0, 0, 0.75)'};\n                  `].join(' ')}\n                  transform={`translate(${0}, 0)`}\n                  ref={node => {\n                    d3Select(node)\n                      .attr('x1', currentX + bandwidth / 2)\n                      .attr('x2', currentX + bandwidth / 2)\n                      .attr('y1', 0)\n                      .attr('y2', chartHeight);\n                  }}\n                />\n              )}\n            </>\n          </>\n        );\n      })}\n    </g>\n  );\n};\n","import React, { useLayoutEffect, useEffect, useCallback } from 'react';\nimport { getStyles } from './styles';\nimport {\n  select as d3Select,\n  scaleLinear as d3ScaleLinear,\n  scaleBand as d3ScaleBand,\n  brushX as d3BrushX,\n  event as d3Event,\n  axisLeft as d3AxisLeft,\n} from 'd3';\nimport { getTextLabelClass } from './utils';\n\nexport const BrushComponent = (props: any) => {\n  const styles = getStyles();\n  let initXDomain: any = null;\n  let initBandWidth: any = null;\n  let lastSelection: any = null;\n  const minLimitSelection = 5;\n  let idleTimeout: any = null;\n  let idleDelay = 350;\n  const idled = () => {\n    idleTimeout = null;\n  };\n  const checkXBand = d3ScaleBand()\n    .range([0, props.chartWidth - props.padding])\n    .padding(props.barPadding);\n\n  checkXBand.domain(props.data.xAxisLabels);\n\n  const brushCalcHandler = () => {\n    const svg = d3Select(props.svgRef.current);\n    const { selection } = d3Event || {};\n\n    if (!!selection) {\n      const barCount = props.data.xAxisLabels.length;\n      const xCheck = d3ScaleLinear().range([0, props.chartWidth]);\n\n      xCheck.domain(selection.map(props.xLinear.invert, props.xLinear));\n\n      let [xStart] = props.xLinear.domain();\n      const [xPartStart, xPartEnd] = xCheck.domain();\n      const selectedPart = xPartEnd - xPartStart;\n      const percentage = Math.floor((selectedPart * 100) / (barCount - xStart));\n      const isValidLimit = percentage >= minLimitSelection;\n\n      svg\n        .select('rect.selection')\n        .classed('selection--valid', isValidLimit)\n        .classed('selection--invalid', !isValidLimit);\n    }\n  };\n  const brushHandler = () => {\n    const svg = d3Select(props.svgRef.current);\n    const { selection } = d3Event || {};\n\n    if (!initXDomain || !initBandWidth) {\n      initXDomain = props.x.domain();\n      initBandWidth = props.xBand.bandwidth();\n    }\n\n    if (!!selection) {\n      props.x.domain(selection.map(props.xLinear.invert, props.xLinear));\n\n      const barCount = props.data.xAxisLabels.length;\n      let [xStart] = props.xLinear.domain();\n      const [xPartStart, xPartEnd] = props.x.domain();\n      const selectedPart = xPartEnd - xPartStart;\n      const percentage = Math.floor((selectedPart * 100) / (barCount - xStart));\n\n      if (percentage < minLimitSelection) {\n        svg.select('.brush').call(brush.move as any, lastSelection);\n        return;\n      }\n\n      lastSelection = selection;\n      const initWidth = props.chartWidth - props.padding;\n      const newEndRange = (100 / percentage) * initWidth;\n\n      props.xBand\n        .range([0, newEndRange])\n        .padding(props.barPadding)\n        .domain(props.data.xAxisLabels);\n      props.xBand.domain(props.data.xAxisLabels);\n    } else {\n      if (!idleTimeout) {\n        idleTimeout = setTimeout(idled, idleDelay);\n        svg.select('.brush').call(brush.move as any, lastSelection);\n        return;\n      }\n\n      const resetRange: [number, number] = [0, props.chartWidth - props.padding];\n      lastSelection = null;\n      props.x.domain(initXDomain);\n      props.xBand\n        .range(resetRange)\n        .padding(props.barPadding)\n        .domain(props.data.xAxisLabels);\n    }\n    zoom();\n  };\n  const brush = d3BrushX()\n    .extent([\n      [0, 0],\n      [props.chartWidth - props.padding, 10],\n    ])\n    .on('brush', brushCalcHandler)\n    .on('end', brushHandler);\n  const zoom = () => {\n    const svg = d3Select(props.svgRef.current);\n\n    if (!!svg) {\n      const transition: any = d3Select(props.svgRef.current)\n        ?.transition()\n        .duration(750);\n\n      svg\n        .select('.axis-left')\n        .transition(transition)\n        .call(d3AxisLeft(props.y) as any);\n      svg\n        .select('.axis-right')\n        .transition(transition)\n        .call(\n          d3AxisLeft(props.p)\n            .ticks(4)\n            .tickFormat(props.pLabels) as any\n        );\n\n      let i = 0;\n      let issetVitalFewLine = false;\n      const bandWidth = props.xBand.bandwidth();\n      const bandWidth50 = bandWidth / 2;\n\n      svg.selectAll(`rect.${styles.bar}`).each(function(this: any) {\n        if (this.dataset) {\n          const newCurrentX: number = props.x(i) - bandWidth50;\n\n          d3Select(this)\n            .transition(transition)\n            .attr('x', newCurrentX)\n            .attr('width', bandWidth);\n\n          if (props.showVitalFew && props.data.p[i] > props.vitalBreakpointVal && !issetVitalFewLine) {\n            issetVitalFewLine = true;\n            const xPos = newCurrentX + bandWidth50;\n\n            svg\n              .select('.line--vertical')\n              .transition(transition)\n              .attr('x1', xPos)\n              .attr('x2', xPos)\n              .attr('y1', 0)\n              .attr('y2', props.chartHeight);\n          }\n        }\n\n        i++;\n      });\n\n      if (props.showBarValue) {\n        const step = Math.trunc(props.chartWidth / 10 / bandWidth);\n\n        svg.selectAll(`text.${styles.barValue}`).each(function(this: any) {\n          const { index } = this.dataset;\n          const newCurrentX: number = props.x(+index) - bandWidth50;\n          const textLabelClass = getTextLabelClass(bandWidth, styles, +index, step);\n\n          d3Select(this)\n            .transition(transition)\n            .attr('class', [styles.barValue, textLabelClass].join(' '))\n            .attr('x', newCurrentX + bandWidth50);\n        });\n      }\n\n      const yPos = props.p(props.vitalBreakpointVal / 100);\n\n      svg\n        .select('.line--horizontal')\n        .transition(transition)\n        .attr('x1', 0)\n        .attr('x2', props.chartWidth - props.padding)\n        .attr('y1', yPos)\n        .attr('y2', yPos);\n\n      svg\n        .select('.line--curve')\n        .datum(props.pathData)\n        .transition(transition)\n        .attr('transform', `translate(${props.padding}, 0)`)\n        .attr('d', props.line as any);\n    }\n  };\n\n  const resetChart = useCallback(() => {\n    d3Select(props.svgRef.current)\n      .select('.brush')\n      .call(brush.move as any, null);\n\n    brushHandler();\n  }, [d3Select, brushHandler]);\n\n  useLayoutEffect(() => {\n    resetChart();\n  }, []);\n\n  useEffect(() => {\n    resetChart();\n  }, [props.data, resetChart]);\n\n  return (\n    <g\n      transform={`translate(${2 * props.padding}, ${props.padding + props.chartHeight + 3})`}\n      className={['brush', styles.brushWrapper].join(' ')}\n      ref={node => {\n        d3Select(node).call(brush as any);\n      }}\n    />\n  );\n};\n","import React from 'react';\nimport { select as d3Select, axisBottom as d3AxisBottom, axisLeft as d3AxisLeft } from 'd3';\nimport { tickFilter } from './utils';\nimport { css } from 'emotion';\n\ninterface PathsComponentInterface {\n  theme: any;\n  styles: any;\n  padding: number;\n  chartId: string;\n  chartWidth: number;\n  chartHeight: number;\n  vitalBreakpointVal: number;\n  vitalLineColor: string;\n  curveLineColor: string;\n  x: any;\n  p: any;\n  y: any;\n  xBand: any;\n  pathData: any;\n  line: any;\n  showVitalFew: boolean;\n  cutOffXPathData: any;\n}\n\ninterface AxisComponentInterface {\n  data: any;\n  padding: number;\n  styles: any;\n  line: any;\n  vitalBreakpointVal: number;\n  bottomLineData: any;\n  chartHeight: number;\n  chartWidth: number;\n  x: any;\n  y: any;\n  p: any;\n  pLabels: any;\n  xPBand: any;\n}\n\nexport const PathsComponent = ({\n  theme,\n  styles,\n  padding,\n  chartId,\n  chartWidth,\n  vitalBreakpointVal,\n  vitalLineColor,\n  curveLineColor,\n  p,\n  xBand,\n  pathData,\n  line,\n  showVitalFew,\n}: PathsComponentInterface) => {\n  return (\n    <g clipPath={`url(#${chartId})`} className={styles.paths}>\n      <path\n        className={['line--curve', styles.line, css`\n          stroke: ${!!curveLineColor ? curveLineColor : theme.colors.text};\n        `].join(' ')}\n        transform={`translate(${padding}, 0)`}\n        ref={node => {\n          d3Select(node)\n            .datum(pathData)\n            .attr('d', line);\n        }}\n      />\n      {showVitalFew && (\n        <line\n          className={['line--horizontal', styles.lineCutOff, css`\n            stroke: ${!!vitalLineColor ? vitalLineColor : theme.palette.brandDanger};\n          `].join(' ')}\n          transform={`translate(${padding + xBand.bandwidth() / 2}, 0)`}\n          ref={node => {\n            d3Select(node)\n              .attr('x1', 0)\n              .attr('x2', chartWidth - padding)\n              .attr('y1', p(vitalBreakpointVal / 100))\n              .attr('y2', p(vitalBreakpointVal / 100));\n          }}\n        />\n      )}\n    </g>\n  );\n};\n\nexport const AxisComponent = ({\n  data,\n  styles,\n  padding,\n  chartHeight,\n  chartWidth,\n  x,\n  xPBand,\n  y,\n  p,\n  pLabels,\n  vitalBreakpointVal,\n}: AxisComponentInterface) => {\n  const hasVitals = !!data.p.filter((d: number) => d < vitalBreakpointVal).length;\n  const isVital = (_: any, i: number) => data.p[i] < vitalBreakpointVal || (!hasVitals && i === 0);\n\n  return (\n    <g className={['axis', styles.axis].join(' ')}>\n      <g\n        className=\"axis-bottom\"\n        transform={`translate(${padding}, ${chartHeight + 15})`}\n        ref={node => {\n          const [highestVitalFewValue] = data.p.filter(isVital).sort((a: number, b: number) => b - a);\n          const i: number = data.p.findIndex((pV: number) => pV === highestVitalFewValue);\n          const filterHandler = tickFilter(data.xAxisLabels[i + 1], data.p.length - 1);\n          const xPAxis = d3AxisBottom(xPBand).tickValues(data.xAxisLabels.filter(filterHandler));\n\n          d3Select(node)\n            .call(xPAxis as any)\n            .selectAll('text')\n            .attr('y', padding / 2)\n            .attr('x', 0)\n            .style('text-anchor', 'center');\n        }}\n      />\n      <line\n        className={styles.lineBottomAxis}\n        transform={`translate(${padding}, ${1})`}\n        ref={node => {\n          d3Select(node)\n            .attr('x1', 0)\n            .attr('x2', chartWidth - padding)\n            .attr('y1', chartHeight)\n            .attr('y2', chartHeight);\n        }}\n      />\n      <g\n        className=\"axis-left\"\n        transform={`translate(${padding}, 0)`}\n        ref={node => {\n          d3Select(node).call(d3AxisLeft(y).ticks(chartHeight / 30) as any);\n        }}\n      />\n      <g\n        className=\"axis-right\"\n        transform={`translate(${chartWidth + padding}, 0)`}\n        ref={node => {\n          d3Select(node).call(\n            d3AxisLeft(p)\n              .ticks(4)\n              .tickFormat(pLabels) as any\n          );\n        }}\n      />\n    </g>\n  );\n};\n","import React, { useRef } from 'react';\nimport { PanelProps } from '@grafana/data';\nimport { ParetoOptions } from 'types';\nimport { css, cx } from 'emotion';\nimport { useTheme } from '@grafana/ui';\nimport { select as d3Select } from 'd3';\nimport { BarGraph } from './BarGraph';\nimport { BrushComponent } from './BrushComponent';\nimport { TooltipComponent } from './TooltipComponent';\nimport { PathsComponent, AxisComponent } from './GraphComponents';\nimport { PanelDataController } from './controllers';\nimport { getStyles } from './styles';\n\ninterface Props extends PanelProps<ParetoOptions> {}\n\nexport const ParetoPanel: React.FC<Props> = ({ options, data, width, height, id }) => {\n  const svgRef = useRef(null);\n  const theme = useTheme();\n  const styles = getStyles();\n\n  if (!data || !!!data.series.length) {\n    return <div className={['placeholder--no-data', styles.placeholder.__noData].join(' ')}>No Data</div>;\n  }\n\n  const chartId = `chartMask_${id}`;\n  const PanelData = new PanelDataController(data);\n  const graphData = PanelData.getResults();\n  const barGraphSettings = { options, width, height };\n  const barGraphData = BarGraph(graphData, barGraphSettings);\n  const props = {\n    data: graphData,\n    theme,\n    styles,\n    chartId,\n    ...options,\n    ...barGraphData,\n    svgRef,\n  };\n  const Component = barGraphData.Component;\n\n  return (\n    <div\n      className={cx(\n        styles.wrapper,\n        css`\n          width: ${width}px;\n          height: ${height}px;\n        `\n      )}\n    >\n      <TooltipComponent {...props} />\n      <svg\n        ref={svgRef}\n        className={['svg--pareto-chart', styles.svg].join(' ')}\n        width={width}\n        height={height}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n        viewBox={`0 0 ${width} ${height}`}\n      >\n        <g transform={`translate(${barGraphData.padding}, ${barGraphData.padding})`} className=\"wrapper\">\n          <Component {...props} />\n          <PathsComponent {...props} />\n          <AxisComponent {...props} />\n        </g>\n        <BrushComponent {...props} />\n        <defs>\n          <clipPath id={chartId}>\n            <rect\n              transform={`translate(0, -${props.padding})`}\n              ref={node => {\n                d3Select(node)\n                  .attr('width', props.chartWidth - props.padding)\n                  .attr('height', props.chartHeight + props.padding);\n              }}\n            />\n          </clipPath>\n        </defs>\n      </svg>\n    </div>\n  );\n};\n","import React, { useRef, useEffect } from 'react';\nimport { getStyles } from './styles';\nimport { select as d3Select } from 'd3';\nimport { eventBus } from './eventBus';\nimport { CONSTANTS } from './constants';\nimport { camelCase } from './utils';\n\nconst contents = {\n  initCopyText: 'Click on bar to copy data',\n  copyText: '',\n  dataCopied: 'Copied data!',\n};\n\nconst getCopyLabel = ({ isCopyLabelVisible }: any, text: string) =>\n  `<span class=\"tooltip-copy-label ${!isCopyLabelVisible ? 'hidden' : ''}\">${text}</span>`;\n\nexport const TooltipComponent = (props: any) => {\n  const styles = getStyles();\n  const tooltipRef = useRef(null);\n  const tooltipContentRef = useRef(null);\n  const barClickEventHandler = (e: any) => {\n    barClickHandler(tooltipRef, props, e);\n  };\n  const barMoveEventHandler = (e: any) => {\n    tooltipHandler(tooltipRef, tooltipContentRef, props, e);\n  };\n\n  useEffect(() => {\n    eventBus.on(`${props.chartId}-${CONSTANTS.E_TOOLTIP_CLICK}`, barClickEventHandler);\n    eventBus.on(`${props.chartId}-${CONSTANTS.E_TOOLTIP_MOVE}`, barMoveEventHandler);\n\n    return () => {\n      eventBus.remove(`${props.chartId}-${CONSTANTS.E_TOOLTIP_CLICK}`, barClickEventHandler);\n      eventBus.remove(`${props.chartId}-${CONSTANTS.E_TOOLTIP_MOVE}`, barMoveEventHandler);\n    };\n  }, []);\n\n  return (\n    <div ref={tooltipRef} className={['tooltip__container',styles.tooltipContainer,props.chartId,].join(' ')}>\n      <div ref={tooltipContentRef} className={styles.tooltip} />\n    </div>\n  );\n};\n\nexport const tooltipHandler = (\n  tooltipRef: any,\n  tooltipContentRef: any,\n  props: any,\n  event: React.MouseEvent<SVGRectElement, MouseEvent>\n) => {\n  const { current: tooltipDiv } = tooltipRef || { current: null };\n  const { current: tooltipContentDiv } = tooltipContentRef || { current: null };\n  const { labelHeader, label: labelValue, label2, isVital, count, fillColor } = event.currentTarget?.dataset || {};\n  const isVisible = ['mouseover', 'mousemove'].includes(event.type) ? true : false;\n\n  if (event.type === 'mouseout') {\n    contents.copyText = contents.initCopyText;\n  }\n\n  if (!!tooltipDiv) {\n    d3Select(tooltipDiv).classed('tooltip--visible', isVisible);\n\n    if (isVisible) {\n      d3Select(tooltipDiv)\n        .style('left', `${event.pageX}px`)\n        .style('top', `${event.pageY - 28}px`);\n    }\n\n    d3Select(tooltipContentDiv).style(\n      'background',\n      !!fillColor ? fillColor : isVital === 'true'\n        ? !!props.vitalColor ? camelCase(props.vitalColor) : props.theme.palette.brandDanger\n        : !!props.trivialColor ? camelCase(props.trivialColor) : props.theme.palette.brandWarning\n    ).html(`<label class=\"label-header\">${labelHeader}\n      ${\n        !!contents.copyText ? getCopyLabel(props, contents.copyText) : getCopyLabel(props, contents.initCopyText)\n      }</label>\n      <label class=\"label-value\">Bar percentage: ${labelValue}</label>\n      <label class=\"label-value\">Cumulative percentage: ${label2}</label>\n      <strong>${count}</strong>\n    `);\n  }\n};\n\nexport const barClickHandler = (tooltipRef: any, props: any, event: React.MouseEvent<SVGRectElement, MouseEvent>) => {\n  const content = event.currentTarget?.dataset.labelHeader || 'No Content';\n  const textField = document.createElement('textarea');\n  textField.innerText = content;\n  const appendTo = !!tooltipRef.current ? tooltipRef.current : document.body;\n\n  if (!!appendTo) {\n    appendTo.appendChild(textField);\n  }\n\n  textField.select();\n  document.execCommand('copy');\n  d3Select(appendTo)\n    .select('.tooltip-copy-label')\n    .text(contents.dataCopied);\n  textField.remove();\n};\n","export enum CONSTANTS {\n  E_TOOLTIP_CLICK = 'E_TOOLTIP_CLICK',\n  E_TOOLTIP_MOVE = 'E_TOOLTIP_MOVE',\n}\n","import { FieldType } from '@grafana/data';\nexport interface GraphData {\n  x: string[];\n  y: number[];\n  p: number[];\n  [key: string]: any;\n}\n\nexport class PanelDataController {\n  dataType: string;\n  results: GraphData;\n\n  constructor(data: any) {\n    const [target] = data.request.targets;\n    const { resultFormat } = target;\n    const [serie] = data.series;\n    const { fields, meta } = serie;\n\n    if (!!meta && !!meta.executedQueryString && resultFormat !== 'time_series') {\n      this.dataType = 'table';\n      this.results = this.setTableData(fields);\n    } else if (resultFormat === 'time_series') {\n      this.dataType = 'series';\n      this.results = this.setTimeSeriesData(data.series);\n    } else {\n      this.dataType = 'series';\n      this.results = this.setSeriesData(fields);\n    }\n  }\n\n  getResults() {\n    return this.results;\n  }\n\n  private setTableData(fields: any) {\n    const xData = fields.find(({ type }: { type: string }) => type === FieldType.string);\n    const yData = fields.find(({ type }: { type: string }) => type === FieldType.number);\n    const xValues: string[] = xData.values.toArray().map((d: any) => `${d}`);\n    const yValues: number[] = yData.values.toArray();\n    return this.setResults(xValues, yValues, this.sumYVals(yValues));\n  }\n\n  private setSeriesData(fields: any) {\n    const [xData, yData] = fields;\n    const xValues: string[] = xData.values.toArray().map((d: any) => d);\n    const yValues: number[] = yData.values.toArray();\n    return this.setResults(xValues, yValues, this.sumYVals(yValues));\n  }\n\n  private setTimeSeriesData(series: any) {\n    const xValues: string[] = series.map(({ name }: { name: string }) => this.stripName(name));\n    const yValues: number[] = series.map(({ fields }: { fields: any }) => {\n      const [, val]: [any, any] = fields;\n      const [response]: [number] = val.values.toArray();\n      return response;\n    });\n    return this.setResults(xValues, yValues, this.sumYVals(yValues));\n  }\n\n  private sumYVals(vals: number[]) {\n    return vals.reduce((a, d) => a + d, 0);\n  }\n\n  private stripName(name: string) {\n    const string = name.match(/\\{.*:+(.*)\\}/);\n\n    if (!string) return name;\n\n    const [fullTagName, tagName] = string;\n\n    if (!!tagName) {\n      return tagName.trim();\n    } else if (!!fullTagName) {\n      return fullTagName.trim();\n    }\n\n    return name;\n  }\n\n  private setResults(xValues: string[], yValues: number[], yValuesSum: number) {\n    this.results = yValues\n      .map((d, i) => ({ i, x: xValues[i], y: d }))\n      .sort((a, b) => b.y - a.y)\n      .reduce(\n        (result: GraphData, d, i) => {\n          let xPercentage = (d.y * 100) / yValuesSum;\n          xPercentage = xPercentage > 100 ? 100 : xPercentage;\n          let percentage = (result?.p[i - 1] ? result.p[i - 1] : 0) + xPercentage;\n          percentage = percentage > 100 ? 100 : percentage;\n          const xAxisLabels =\n            i === yValues.length - 1 ? `${Math.trunc(Math.ceil(percentage))} %` : `${percentage.toFixed(2)} %`;\n          const tooltipLabel = `${xPercentage.toFixed(2)} %`;\n\n          return {\n            ...result,\n            x: [...result.x, d.x],\n            y: [...result.y, d.y],\n            p: [...result.p, percentage],\n            xP: [...result.xP, xPercentage],\n            xAxisLabels: [...result.xAxisLabels, xAxisLabels],\n            tooltipLabel: [...result.tooltipLabel, tooltipLabel],\n          };\n        },\n        { x: [], y: [], p: [], xP: [], xAxisLabels: [], tooltipLabel: [] }\n      );\n    return this.results;\n  }\n}\n","export const eventBus = {\n  on(event: any, callback: any) {\n    document.addEventListener(event, e => callback(e.detail));\n  },\n  dispatch(event: any, data: any) {\n    document.dispatchEvent(new CustomEvent(event, { detail: data }));\n  },\n  remove(event: any, callback: any) {\n    document.removeEventListener(event, callback);\n  },\n};\n","import { PanelPlugin } from '@grafana/data';\nimport { ParetoOptions } from './types';\nimport { ParetoPanel } from './ParetoPanel';\n\nexport const plugin = new PanelPlugin<ParetoOptions>(ParetoPanel).setPanelOptions(builder => {\n  return (\n    builder\n      .addBooleanSwitch({\n\n        path: 'showVitalFew',\n        name: 'Show vital few line',\n        description: 'Indicates that many defects come from relatively few causes.',\n        defaultValue: true,\n      })\n      .addNumberInput({\n        path: 'vitalBreakpointVal',\n        name: 'Vital few value (%)',\n        description: 'Default is 80 based on the 80/20 rule. But, you are able to customize this.',\n        defaultValue: 20,\n      })\n      .addBooleanSwitch({\n        path: 'isInclusive',\n        name: 'Inclusive vital few',\n        description: 'Include bar with overlapping breakpoint value',\n        defaultValue: false,\n      })\n      .addBooleanSwitch({\n        path: 'showBarValue',\n        name: 'Show bar values',\n        description: 'Show the bar values on top of the bars?',\n        defaultValue: false,\n      })\n      .addNumberInput({\n        path: 'valToFixed',\n        name: 'Number of decimals (max. 6)',\n        description: 'Set number of decimals in bar values.',\n        settings: {\n          min: 0,\n          max: 6,\n        },\n        defaultValue: 2,\n        showIf: c => c.showBarValue,\n      })\n      /**\n       * Will add the slider input once implementation is done :)\n       */\n      .addNumberInput({\n        path: 'barPadding',\n        name: 'Bar padding',\n        description: 'Space between bars. Should be a value between 0 and 1.',\n        defaultValue: 0.2,\n        settings: {\n          min: 0,\n          max: 1,\n        },\n      })\n      .addColorPicker({\n        category: ['Colors'],\n        path: 'curveLineColor',\n        name: 'Percentage line',\n        description: 'The curved line visualizing the optimal trade off',\n        // defaultValue: theme.palette.brandDanger,\n      })\n      .addColorPicker({\n        category: ['Colors'],\n        path: 'vitalLineColor',\n        name: 'Breakpoint lines',\n        description: 'Horizontal and vertical lines indicating the vital few breakpoint',\n        showIf: c => c.showVitalFew,\n      })\n      .addColorPicker({\n        category: ['Colors'],\n        path: 'vitalColor',\n        name: 'Vital few bars',\n        description: 'The bars within the determined vital few percentage',\n        // defaultValue: theme.palette.brandDanger,\n      })\n      .addColorPicker({\n        category: ['Colors'],\n        path: 'trivialColor',\n        name: 'Trivial many bars',\n        description: 'The bars outside the vital few percentage',\n        // defaultValue: theme.palette.brandSuccess,\n      })\n      .addColorPicker({\n        category: ['Colors'],\n        path: 'barHoverColor',\n        name: 'Bar hover state',\n        description: 'Bar fill color on hover',\n        // defaultValue: theme.palette.brandSuccess,\n      })\n  );\n});\n","import { css } from 'emotion';\nimport { stylesFactory, useTheme } from '@grafana/ui';\n\nexport const getStyles = stylesFactory(() => {\n  const theme = useTheme();\n\n  return {\n    wrapper: css`\n      position: relative;\n    `,\n    svg: css`\n      position: absolute;\n      top: 0;\n      left: 0;\n    `,\n    tooltipContainer: css`\n      position: fixed;\n      z-index: 100;\n      min-width: 20vw;\n      display: flex;\n      transition: all 0.2s ease;\n\n      &:not(.tooltip--visible) {\n        z-index: -10;\n        opacity: 0;\n      }\n\n      .tooltip--visible {\n        z-index: 1;\n        opacity: 1;\n      }\n    `,\n    tooltip: css`\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      border: 1px solid ${theme.colors.border2};\n      padding: 4px 10px;\n      max-width: 100%;\n      color: white;\n\n      strong {\n        position: absolute;\n        top: -1px;\n        left: 100%;\n        padding: 4px;\n        bottom: -1px;\n        min-width: 50px;\n        text-align: center;\n        background: inherit;\n        border: 1px solid ${theme.colors.border2};\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 1.4rem;\n      }\n\n      label {\n        display: block;\n        background: inherit;\n        padding: 0 0 4px 0;\n\n        &.label-header {\n          font-weight: bold;\n          font-size: 1.2rem;\n          max-width: 100%;\n        }\n      }\n\n      .tooltip-copy-label {\n        position: absolute;\n        top: calc(100% + 4px);\n        left: 0;\n        background: ${theme.colors.border2};\n        color: ${theme.colors.text};\n        font-size: 10px;\n        height: 20px;\n        box-sizing: border-box;\n        padding: 2px 4px;\n\n        &.hidden {\n          opacity: 0;\n          z-index: -1;\n        }\n      }\n    `,\n    textBox: css`\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      padding: 10px;\n    `,\n    bar: css`\n      cursor: pointer;\n\n      &:hover {\n        fill: ${theme.colors.text};\n      }\n    `,\n    barValue: css`\n      fill: ${theme.colors.text};\n      text-anchor: middle;\n      opacity: 1;\n      transition: opacity 0.2s ease-out;\n      user-select: none;\n    `,\n    line: css`\n      fill: none;\n      stroke-width: 2px;\n      shape-rendering: geometricPrecision;\n    `,\n    lineCutOff: css`\n      fill: none;\n      stroke-width: 2px;\n      stroke-dasharray: 5px;\n    `,\n    lineBottomAxis: css`\n      // fill: none;\n      stroke: ${theme.colors.text};\n      shape-rendering: crispEdges;\n    `,\n    paths: css`\n      position: relative;\n    `,\n    brushWrapper: css`\n      fill: ${theme.colors.bg3};\n      stroke: ${theme.colors.border2};\n      stroke-width: 0.75px;\n\n      .selection {\n        fill: ${theme.colors.bgBlue2} !important;\n        fill-opacity: 0.75;\n        stroke: none;\n\n        &--invalid {\n          fill: ${theme.palette.brandDanger} !important;\n        }\n      }\n\n      .handle {\n        fill: ${theme.palette.brandWarning} !important;\n        fill-opacity: 0.75;\n      }\n    `,\n    brushOverlay: css`\n      cursor: crosshair;\n    `,\n    textLabel: {\n      __largeBar: css``,\n      __smallBar: css``,\n      __hidden: css`\n        fill: none;\n        opacity: 0;\n      `,\n    },\n    axis: css`\n      text {\n        user-select: none;\n      }\n    `,\n    chartMaskId: css`\n      fill: none;\n      user-select: none;\n    `,\n    placeholder: {\n      __noData: css`\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 2rem;\n        font-weight: bold;\n        color: ${theme.palette.redBase};\n        height: 100%;\n        user-select: none;\n      `,\n    },\n    forcedHidden: {\n      __barLabel: css`\n        opacity: 0 !important;\n        transform: translate(0, -100px);\n      `,\n    },\n  };\n});\n","export const getTextLabelClass = (bandWidth: number, styles: any, i: number, step: number) => {\n  return bandWidth >= 30\n    ? `${styles.textLabel.__largeBar} --large`\n    : bandWidth < 30 && i % step === 0\n    ? `${styles.textLabel.__smallBar} --small`\n    : `${styles.textLabel.__hidden} --hidden`;\n};\n\nexport const tickFilter = (highestVitalFewValue: number, maxCount: number) => (pVal: any, i: number) =>\n  pVal === highestVitalFewValue || maxCount === i;\n\nexport const debounce = <F extends (...args: any[]) => any>(func: F, waitFor: number) => {\n  let timeout: any;\n\n  return (...args: Parameters<F>): Promise<ReturnType<F>> =>\n    new Promise(resolve => {\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      timeout = setTimeout(() => resolve(func(...args)), waitFor);\n    });\n};\n\nexport const throttle = <F extends (...args: any[]) => any>(func: F, waitFor: number) => {\n  const now = () => new Date().getTime();\n  const resetStartTime = () => (startTime = now());\n  let timeout: any;\n  let startTime: number = now() - waitFor;\n\n  return (...args: Parameters<F>): Promise<ReturnType<F>> =>\n    new Promise(resolve => {\n      const timeLeft = startTime + waitFor - now();\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      if (startTime + waitFor <= now()) {\n        resetStartTime();\n        resolve(func(...args));\n      } else {\n        timeout = setTimeout(() => {\n          resetStartTime();\n          resolve(func(...args));\n        }, timeLeft);\n      }\n    });\n};\n\nexport const camelCase = (input: string): string => {\n  if (input.indexOf('rgb') === 0) return input;\n  \n  return input\n    .toLowerCase()\n    .replace(/-(.)/g, (match, group1) => group1.toUpperCase());\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_data__;","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_ui__;","module.exports = __WEBPACK_EXTERNAL_MODULE_d3__;","module.exports = __WEBPACK_EXTERNAL_MODULE_emotion__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;"],"sourceRoot":""}